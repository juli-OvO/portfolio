/* style.css */
/* ========== RESET ========== */
* { box-sizing: border-box; }
html, body { height: 100%; }
body { margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; color: #000; }

/* ========== HEADER (shrinks when open) ========== */
.site-header {
  padding: 36px 24px;
  text-align: center;
  transition: padding 280ms ease, transform 280ms ease;
}
.site-header h1 {
  margin: 0;
  font-size: clamp(36px, 5vw, 72px);
  font-weight: 700;
}
.stage.is-open .site-header {
  padding: 16px 24px;
}

/* ========== LAYOUT ========== */
.stage {
  display: grid;
  grid-template-columns: 360px 1fr; /* left books + right panel */
  gap: 28px;
  align-items: start;
  padding: 10px 0px 40px;
  min-height: calc(100vh - 140px);
  transition: grid-template-columns 350ms ease;
}

/* optional: when open, give more room to the page panel */
.stage.is-open {
  grid-template-columns: 280px 1fr;
}

/* ========== BOOKSTACK (wireframe) ========== */
.shelf {
  display: flex;
  justify-content: flex-start; /* EDIT: keep stack flush to left edge */
}

.bookstack {
  position: relative;
  width: 320px; /* EDIT: larger container */
  height: 760px; /* EDIT: larger container */
  padding-top: 40px; /* EDIT: shift stack up slightly */
 
}



/* EDIT: vertical line 50px left of the right edge */
.book::after{
  content:"";
  position:absolute;
  top: 0;
  right: 70px; /* EDIT: 20px right edge + 50px offset */
  height: 700px; /* EDIT: line length (tweak) */
  border-left: 4px solid #000;
}

/* each spine */
.book{
  position: absolute;
  right: 20px;
  top: 140px; /* EDIT: base Y for all spines (tweak) */
  display: block;
  width: 400px;
  height: 600px;
  border: 4px solid #000;
  border-bottom: none; /* EDIT: remove bottom horizontal line */
  background: #fff; /* EDIT: white fill so spines don't visually cluster */
  padding: 0;
  cursor: pointer;

  /* hover slide (step 2) */
  transform: translateX(0);
  transition: transform 260ms ease, outline-offset 260ms ease;
}

/* make them overlap like a set */
.book:nth-child(1){ right: 200px; top: 170px; z-index: 4; } /* EDIT: lowest */
.book:nth-child(2){ right: 140px; top: 160px; z-index: 3; }
.book:nth-child(3){ right: 80px; top: 150px; z-index: 2; }
.book:nth-child(4){ right: 20px; top: 140px; z-index: 1; } /* EDIT: highest */



/* vertical spine label like your drawing */
.spine-text{
  position: absolute;
  inset: 18px 0 18px 0;
  justify-content: center;
  align-items: flex-end; /* EDIT: push text to right edge */
  padding-right: 10px; /* EDIT: right-side inset (tweak) */

  /* vertical letters */
  writing-mode: vertical-rl;
  text-orientation: upright;
  letter-spacing: 0.12em;

  font-size: 28px;
  font-weight: 700;
}



/* HOVER behavior: slide outward (to the right) */
.bookstack:not(.is-open) .book:hover{
  transform: translateX(90px);
}

/* ACTIVE (clicked) stays out and becomes "open" */
.bookstack.is-open .book{
  transform: translateX(0);
}
.bookstack.is-open .book.active{
  transform: translateX(20px);
}

/* ========== PANEL (wireframe) ========== */
.panel{
  position: relative;
  min-height: 530px;
  width:80%;
  border: 4px solid #000;
  opacity: 0;
  pointer-events: none;
  transform: translateY(10px);
  transition: opacity 220ms ease, transform 220ms ease, min-height 350ms ease;
}

/* "Text tab" at top like your step 2 */
.panel-tab{
  position: absolute;
  top: -4px;
  left: -4px;
  border-right: 4px solid #000;
  border-bottom: 4px solid #000;
  border-top: 4px solid #000;
  border-left: 4px solid #000;
  padding: 10px 16px;
  font-size: 32px;
  font-weight: 700;
  background: #fff; /* still wireframe; keeps border readable */
}

/* interior placeholder lines */
.panel-body{
  padding: 90px 42px 42px;
}
.wire-line{
  height: 0;
  border-top: 4px solid #000;
  margin: 28px 0;
}
.wire-line.short{ width: 42%; }
.wire-line.long{ width: 88%; }

/* show panel on hover (step 2 preview) */
.stage.is-preview .panel{
  opacity: 1;
  pointer-events: none;
  transform: translateY(0);
}

/* show panel on open (step 3 big open page) */
.stage.is-open .panel{
  opacity: 1;
  pointer-events: auto;
  transform: translateY(0);
  min-height: 640px;
}

/* BIG X overlay (only in open state, like your 3rd sketch) */
.panel-x{
  display: none;
  position: absolute;
  inset: 0;
  pointer-events: none;
}
.stage.is-open .panel-x{
  display: block;
}
.stage.is-open .panel-x::before,
.stage.is-open .panel-x::after{
  content:"";
  position:absolute;
  left: 0; top: 0;
  width: 100%;
  height: 100%;
  border-top: 4px solid transparent;
}
.stage.is-open .panel-x::before{
  transform: rotate(0deg);
  background:
    linear-gradient( to bottom right, transparent 49.4%, #000 49.4%, #000 50.6%, transparent 50.6% );
}
.stage.is-open .panel-x::after{
  background:
    linear-gradient( to top right, transparent 49.4%, #000 49.4%, #000 50.6%, transparent 50.6% );
}

/* responsive: stack on small screens */
@media (max-width: 860px){
  .stage{
    grid-template-columns: 1fr;
  }
  .shelf{ justify-content: flex-start; }
  .panel{ min-height: 420px; }
}
