/* style.css */
/* ========== RESET ========== */
* { box-sizing: border-box; }
html, body {
  height: 100%;
  cursor: none; /* EDIT: hide native cursor everywhere */
}

/* EDIT: force-hide native cursor on all descendants */
body * {
  cursor: none !important;
}
body.cursor-disabled,
body.cursor-disabled *{
  cursor: auto !important;
}
body {
  margin: 0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color: #000;
  background: #fff;
  min-height: 100vh; /* EDIT: lock page to viewport height */
  overflow: hidden; /* EDIT: prevent leftover content below fold */
  transition: background-color 0.3s cubic-bezier(0.2, 0.8, 0.2, 1), color 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
  --panel-fill: rgba(255, 255, 255, 0.85);
}
body.night{
  color: #fff;
  background: #000;
  --panel-fill: rgba(0, 0, 0, 0.6);
}
body.night .site-header h1{
  color: #fff !important;
}
body.night .site-credit{
  color: rgba(255, 255, 255, 0.75);
}
body.night .book,
body.night .panel,
body.night .panel-image{
  border-color: #fff;
}
body.night .spine-text{
  color: #fff;
}
body.night .book::after{
  border-left-color: #fff;
}
body.night .panel-x::before{
  background:
    linear-gradient( to bottom right, transparent 49.4%, #fff 49.4%, #fff 50.6%, transparent 50.6% );
}
body.night .panel-x::after{
  background:
    linear-gradient( to top right, transparent 49.4%, #fff 49.4%, #fff 50.6%, transparent 50.6% );
}
body.night .book{
  background: linear-gradient(to right, rgba(255, 200, 140, 0.18) 0 88%, #000 88% 100%);
}

#intro{
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: #fff;
  z-index: 5;
  opacity: 1;
  transition: opacity 260ms ease;
}
#intro.is-fading{
  opacity: 0;
}
.intro-text{
  font-size: clamp(36px, 6vw, 84px);
  font-weight: 800;
  letter-spacing: 0.02em;
}
.reveal-title{
  font-size: clamp(36px, 6vw, 84px);
  font-weight: 800;
  letter-spacing: -0.03em;
  line-height: 1.1;
  margin: 0;
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
}
.reveal-title .char{
  display: inline-block;
  opacity: 0;
  filter: blur(12px);
  transform: translateY(40%) scale(1.1) translateZ(0);
  animation: cinematic-reveal 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  animation-delay: calc(0.02s * var(--index));
  will-change: transform, opacity, filter;
}

@keyframes cinematic-reveal {
  0% {
    opacity: 0;
    filter: blur(12px);
    transform: translateY(40%) scale(1.1);
  }
  50% {
    opacity: 0.7;
    filter: blur(4px);
  }
  100% {
    opacity: 1;
    filter: blur(0);
    transform: translateY(0) scale(1);
  }
}

@media (prefers-reduced-motion: reduce) {
  .reveal-title .char{
    opacity: 1 !important;
    transform: none !important;
    filter: none !important;
    animation: none !important;
  }
}

#bubbleWipe{
  position: fixed;
  inset: 0;
  width: 100vw;
  height: 100vh;
  z-index: 4;
  pointer-events: none;
  opacity: 0;
  visibility: hidden;
  transition: opacity 100ms ease;
}
#bubbleWipe.is-active{
  opacity: 1;
  visibility: visible;
}

#main{
  opacity: 0;
  pointer-events: none;
  transition: opacity 300ms ease;
}
#main.is-visible{
  opacity: 1;
  pointer-events: auto;
}

/* EDIT: ensure native cursor stays hidden on interactive elements */
a, button, [role="button"], input, textarea, select {
  cursor: none;
}

/* EDIT: custom cursor */
#cursor{
  position: fixed;
  left: 0;
  top: 0;
  width: 30px;
  height: 30px;
  background: rgba(0, 213, 255, 0.697);
  border-radius: 50%;
  mix-blend-mode: difference;
  transform: translate(var(--cursor-x, 0px), var(--cursor-y, 0px)) translate(-50%, -50%) scale(var(--cursor-scale, 1));
  pointer-events: none;
  z-index: 9999;
  transition: opacity 200ms ease;
}
#cursor.is-hover{
}
#cursor.is-link-hover{
  border-radius: 0;
}
#cursorTrail{
  position: fixed;
  inset: 0;
  width: 100vw;
  height: 100vh;
  z-index: 9998;
  pointer-events: none;
  display: none;
}
.mode-toggle{
  position: fixed;
  top: 18px;
  right: 20px;
  z-index: 10000;
  width: 44px;
  height: 44px;
  border: 3px solid #000;
  background: #000;
  color: #fff;
  padding: 0;
  display: grid;
  place-items: center;
  transition: transform 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
  cursor: none;
}
.mode-toggle::after{
  content: attr(data-label);
  position: absolute;
  top: 50%;
  right: 100%;
  transform: translate(-12px, -50%);
  background: #000;
  color: #fff;
  padding: 6px 10px;
  font-size: 12px;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  opacity: 0;
  pointer-events: none;
  white-space: nowrap;
  transition: opacity 0.2s ease;
}
.mode-toggle:hover::after{
  opacity: 1;
}
.mode-icon{
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: #fff;
  position: relative;
  transition: transform 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
}
.mode-icon::after{
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 50%;
  background: #000;
  transform: translateX(10px);
  opacity: 0;
  transition: transform 0.3s cubic-bezier(0.2, 0.8, 0.2, 1), opacity 0.3s ease;
}
body.night .mode-toggle{
  transform: scale(0.85);
}
body.night .mode-icon::after{
  opacity: 1;
  transform: translateX(6px);
}
body.night .mode-toggle{
  border-color: #fff;
  background: #000;
}
body.night .mode-toggle::after{
  background: #fff;
  color: #000;
}

/* EDIT: boids canvas behind UI */
#boids{
  position: fixed;
  inset: 0;
  width: 100vw;
  height: 100vh;
  z-index: -1;
  pointer-events: none;
}

/* ========== HEADER (shrinks when open) ========== */
.site-header {
  padding: 36px 24px;
  text-align: center;
  transition: padding 280ms ease, transform 280ms ease;
}
.site-header h1 {
  margin: 0;
  font-size: clamp(36px, 5vw, 72px);
  font-weight: 700;
}
.stage.is-open .site-header {
  padding: 16px 24px;
}

/* ========== LAYOUT ========== */
.stage {
  display: grid;
  grid-template-columns: 360px 1fr; /* left books + right panel */
  gap: 28px;
  align-items: start;
  justify-content: center;
  padding: 10px 0px 40px;
  min-height: calc(100vh - 140px);
  transition: grid-template-columns 350ms ease;
}

/* optional: when open, give more room to the page panel */
.stage.is-open {
  grid-template-columns: 280px 1fr;
}

/* ========== BOOKSTACK (wireframe) ========== */
.shelf {
  display: flex;
  justify-content: flex-start; /* EDIT: keep stack flush to left edge */
}

.bookstack {
  position: relative;
  width: 320px; /* EDIT: larger container */
  height: 760px; /* EDIT: larger container */
  padding-top: 40px; /* EDIT: shift stack up slightly */
 
}



/* EDIT: vertical line 50px left of the right edge */
.book::after{
  content:"";
  position:absolute;
  top: 0;
  right: 70px; /* EDIT: 20px right edge + 50px offset */
  height: 700px; /* EDIT: line length (tweak) */
  border-left: 4px solid #000;
  transition: border-left-color 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
}

/* each spine */
.book{
  position: absolute;
  right: 20px;
  top: 140px; /* EDIT: base Y for all spines (tweak) */
  display: block;
  width: 600px;
  height: 800px;
  border: 4px solid #000;
  border-bottom: none; /* EDIT: remove bottom horizontal line */
  background: linear-gradient(to right, rgba(236, 152, 121, 0.232) 0 88%, #fff 88% 100%); /* EDIT: white fill only on right 10% */
  padding: 0;
  cursor: pointer;

  /* hover slide (step 2) */
  transform: translateX(0);
  transition: transform 260ms ease, outline-offset 260ms ease, opacity 220ms ease, border-color 0.3s cubic-bezier(0.2, 0.8, 0.2, 1), background-color 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
}

/* make them overlap like a set */
.book:nth-child(1){ right: 200px; top: 170px; z-index: 4; } /* EDIT: lowest */
.book:nth-child(2){ right: 140px; top: 160px; z-index: 3; }
.book:nth-child(3){ right: 80px; top: 150px; z-index: 2; }
.book:nth-child(4){ right: 20px; top: 140px; z-index: 1; } /* EDIT: highest */




/* vertical spine label like your drawing */
.spine-text{
  position: absolute;
  inset: 30px 0 18px 0; /* EDIT: start text 30px from top */
  display: flex;
  flex-direction:column;
  justify-content: flex-start; /* EDIT: align to top */
  align-items: flex-start; /* EDIT: push text to right edge */
  padding-top: 30px; /* EDIT: right-side inset (tweak) */
  padding-right: 15px;
  z-index: 2; /* EDIT: ensure text sits above book fill */

  /* vertical letters */
  writing-mode: vertical-rl;
  text-orientation: upright;
  letter-spacing: 0.12em;

  font-size: 28px;
  font-weight: 700;
}



/* HOVER behavior: slide outward (to the right) */
.bookstack:not(.is-open) .book:hover{
  transform: translateY(-90px);
}

/* ACTIVE (clicked) stays out and becomes "open" */
.bookstack.is-open .book{
  transform: translateX(-260px); /* EDIT: push non-active books off to the left */
  opacity: 0;
  pointer-events: none;
}
.bookstack.is-open .book.active{
  transform: translateX(0); /* EDIT: keep active book in scene */
  left: -500px; /* EDIT: snap active book to 10px from left border */
  right: auto;
  top: 140px; /* EDIT: keep full height alignment when open */
  height: 800px; /* EDIT: keep full height when open */
  opacity: 1;
  pointer-events: auto;
}

/* ========== PANEL (wireframe) ========== */
.panel{
  position: relative;
  min-height: 600px;
  max-height: 600px;
  width:80%;
  margin: 0 auto; /* EDIT: center panel horizontally */
  justify-self: center;
  border: 4px solid #000;
  opacity: 0;
  pointer-events: none;
  --panel-offset: -180px;
  transform: perspective(1200px) translateX(var(--panel-offset)) translateY(12px) scale(0.96) rotateY(-2deg);
  transform-origin: left top;
  transition: opacity 300ms cubic-bezier(0.2, 0.8, 0.2, 1), transform 300ms cubic-bezier(0.2, 0.8, 0.2, 1), min-height 350ms ease, border-color 0.3s cubic-bezier(0.2, 0.8, 0.2, 1), background-color 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

/* interior placeholder lines */
.panel-body{
  padding: 0;
  flex: 1 1 auto;
  overflow: hidden;
}

/* show panel on hover (step 2 preview) */
.stage.is-preview .panel{
  opacity: 1;
  pointer-events: none;
  transform: perspective(1200px) translateX(var(--panel-offset)) translateY(0) scale(0.98) rotateY(-1deg);
  background: var(--panel-fill);
}
.stage.is-exiting .panel{
  opacity: 0;
  pointer-events: none;
  transform: perspective(1200px) translateX(var(--panel-offset)) translateY(-8px) scale(0.98) rotateY(-1deg);
}

/* show panel on open (step 3 big open page) */
.stage.is-open .panel{
  opacity: 1;
  pointer-events: auto;
  transform: perspective(1200px) translateX(var(--panel-offset)) translateY(0) scale(1.02) rotateY(0deg);
  min-height: 500px;
  background: var(--panel-fill);
}

/* EDIT: preview content layout */
.panel-content{
  padding: 30px;
  max-width: 980px;
  margin: 0 auto; /* EDIT: center panel content */
  font-size: 18px;
  line-height: 1.7;
}
.panel-content--center{
  text-align: center;
}
.panel-content--center p{
  font-size: 15px;
  line-height: 1.85;
}
.panel-content--bio{
  position: relative;
  height: 110%;
  top:-40px;
  min-height: 560px;
  padding: 40px 72px 28px;
  display: flex;
  align-items: center;
  justify-content: center;
}
.bio-copy{
  margin: 0;
  max-width: 700px;
  text-align: center;
  font-family: "Inter", "Inconsolata", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: clamp(20px, 2.0vw, 20px);
  line-height: 1.38;
  font-weight: 700;
  letter-spacing: 0.005em;
}
.bio-links{
  position: absolute;
  left: 18px;
  right: 18px;
  bottom: -14px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.bio-link{
  position: relative;
  color: inherit;
  text-decoration: none;
  font-family: "Inconsolata", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: clamp(30px, 2.4vw, 54px);
  font-weight: 700;
  line-height: 1;
}
.bio-link::after{
  content: "";
  position: absolute;
  left: 0;
  bottom: -6px;
  width: 100%;
  height: 3px;
  background: currentColor;
  transform: scaleX(0);
  transform-origin: left center;
  transition: transform 200ms ease;
}
.bio-link:hover::after,
.bio-link:focus-visible::after{
  transform: scaleX(1);
}
.panel-content--works{
  padding: 20px;
  position: relative;
  display: grid;
  grid-template-columns: minmax(220px, 1fr) minmax(300px, 1.2fr);
  align-items: start;
}
.panel-content--cv{
  max-width: none;
  width: 100%;
  height: 100%;
  padding: 60px 38px;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 44px;
  font-family: "Inter", "Inconsolata", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  transform: scale(0.7);
  transform-origin: top left;
  width: 142.86%;
}
.cv-col{
  display: flex;
  flex-direction: column;
  gap: 30px;
}
.cv-block{
  display: flex;
  flex-direction: column;
  gap: 16px;
}
.cv-heading{
  margin: 0;
  color: #f28d2b;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  font-size: clamp(30px, 2.5vw, 48px);
  line-height: 1;
  font-weight: 800;
}
.cv-entry{
  margin: 0;
}
.cv-entry + .cv-entry{
  margin-top: 2px;
}
.cv-entry__head{
  display: flex;
  justify-content: space-between;
  gap: 18px;
  align-items: baseline;
}
.cv-entry__title{
  margin: 0;
  font-size: clamp(24px, 1.9vw, 36px);
  line-height: 1.18;
  font-weight: 700;
}
.cv-entry__year{
  margin: 0;
  font-size: clamp(20px, 1.6vw, 30px);
  line-height: 1;
  color: #555;
  white-space: nowrap;
}
.cv-entry__line{
  margin: 3px 0 0;
  font-size: clamp(10px, 1.1vw, 23px);
  line-height: 1;
  color: #555;
}
.cv-bullets{
  margin: 8px 0 0;
  padding-left: 1.15em;
}
.cv-bullets li{
  margin: 4px 0;
  font-size: clamp(10px, 1.1vw, 28px);
  line-height: 1.3;
  color: #555;
}
.work-tags{
  grid-column: 2;
  grid-row: 1;
  justify-self: end;
  align-self: center;
  text-align: right;
  font-family: inherit;
  font-weight: 700;
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 8px;
  opacity: 0;
  transform: translateX(40px);
  transition: transform 0.8s cubic-bezier(0.22, 1, 0.36, 1), opacity 1s cubic-bezier(0.22, 1, 0.36, 1);
  z-index: 2;
  pointer-events: none;
}
.work-tags.is-entering{
  opacity: 1;
  transform: translateX(0);
}
.work-tags__line{
  margin: 0;
  font-size: 24px;
  line-height: 1.08;
  letter-spacing: 0.01em;
}
.works-list{
  display: flex;
  flex-direction: column;
  gap: 15px;
  align-items: flex-start;
  position: relative;
  z-index: 2;
  margin-left: 30px;
}
.works-group{
  display: flex;
  flex-direction: column;
  gap: 0px;
}
.works-group ul{
  list-style: none;
  margin: 0;
  padding: 0 0 0 30px;
  display: flex;
  flex-direction: column;
  gap: 0px;
}
.works-header{
  font-family: "Inconsolata", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-weight: 600;
  text-transform: none;
  letter-spacing: 0.01em;
  font-size: 22px;
  margin-left: 0;
}
.topic-item{
  border: none;
  background: transparent;
  font-family: "Inconsolata", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: 28px;
  font-weight: 500;
  color: inherit;
  padding: 0;
  cursor: pointer;
  transition: transform 220ms ease, color 220ms ease;
  transform-origin: left center;
  text-decoration: none;
}
.works-footer{
  font-family: "Inconsolata", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: 22px;
  font-weight: 600;
  margin-top: 12px;
}
.sr-only{
  position: absolute !important;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}
.letter-swap{
  display: inline-flex;
  align-items: center;
  position: relative;
  overflow: hidden;
}
.letter-slot{
  position: relative;
  display: inline-block;
  overflow: hidden;
  line-height: 1.0;
}
.letter{
  display: inline-block;
  transform: translateY(0);
  transition: transform 0.7s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  transition-delay: calc(0.03s * var(--i));
}
.letter-secondary{
  position: absolute;
  left: 0;
  top: -100%;
  display: inline-block;
  transform: translateY(0);
  transition: transform 0.7s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  transition-delay: calc(0.03s * var(--i));
}
.topic-item:hover .letter,
.topic-item:focus-visible .letter{
  transform: translateY(100%);
}
.topic-item:hover .letter-secondary,
.topic-item:focus-visible .letter-secondary{
  transform: translateY(100%);
  color: rgb(245, 148, 83);
}
.topic-item:hover,
.topic-item:focus-visible{
  transform: scale(1.5);
  color: inherit;
}
.works-preview-slot{
  width: 100%;
  height: 120%;
  max-height: none;
  position: absolute;
  inset: 0;
  z-index: 1;
  display: grid;
  place-items: center;
  overflow: hidden;
  pointer-events: none;
  padding: 0px;
}
.works-preview-note{
  position: absolute;
  right: 18px;
  top: 12px;
  z-index: 5;
  margin: 0;
  font-family: inherit;
  font-size: 24px;
  line-height: 1.08;
  letter-spacing: 0.01em;
  font-weight: 700;
  color: inherit;
  pointer-events: none;
  opacity: 0;
  transition: opacity 120ms ease;
}
.panel-body[data-preview-note="coming-soon"] .works-preview-note{
  opacity: 1;
}

.site-credit{
  position: fixed;
  right: 12px;
  bottom: 10px;
  margin: 0;
  font-family: "Inconsolata", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: 20px;
  line-height: 1.2;
  color: rgba(0, 0, 0, 0.7);
  z-index: 10001;
  pointer-events: none;
}
.works-preview-slot img{
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: right top;
  display: block;
  opacity: 0;
  transform: scale(0.9);
  transform-origin: right top;
  position: relative;
  z-index: 0;
  transition: opacity 140ms ease;
  -webkit-mask-image: linear-gradient(
    to right,
    rgba(0, 0, 0, 0) 0%,
    rgba(0, 0, 0, 0.2) 50%,
    rgba(0, 0, 0, 0.5) 100%
  );
  mask-image: linear-gradient(
    to right,
    rgba(0, 0, 0, 0) 0%,
    rgba(0, 0, 0, 0.2) 50%,
    rgba(0, 0, 0, 0.5) 100%
  );
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
  -webkit-mask-size: 100% 100%;
  mask-size: 100% 100%;
}
.panel-body[data-preview-active="true"] .works-preview-slot img{
  opacity: 1;
}

@supports not ((mask-image: linear-gradient(#000, transparent))) {
  .works-preview-slot::before{
    content: "";
    position: absolute;
    inset: 20px;
    background: linear-gradient(
      to right,
      rgba(255, 255, 255, 0) 0%,
      rgba(255, 255, 255, 0.2) 50%,
      rgba(255, 255, 255, 0.5) 100%
    );
    z-index: 1;
    pointer-events: none;
  }
}
@media (prefers-reduced-motion: reduce) {
  .work-tags{
    opacity: 1 !important;
    transform: none !important;
    transition: none !important;
  }
}
.panel-grid{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 40px;
  align-items: center;
  justify-content: center;
}

/* ========== MUSIC BOIDS PAGE ========== */
body.boid-sequencer{
  font-family: "Space Grotesk", system-ui, sans-serif;
  --boid-ink: #0b0b0b;
  --boid-light: #f5f3ef;
  --boid-muted: rgba(245, 243, 239, 0.9);
  --boid-overlay: rgba(255, 255, 255, 0.85);
  color: var(--boid-ink);
  background: #f7f6f2;
  min-height: 100%;
  overflow-y: auto;
  overflow-x: hidden;
}
body.boid-sequencer.is-entering .boid-bg,
body.boid-sequencer.is-entering .boid-hero{
  opacity: 1;
  transform: translateX(0);
}
body.boid-sequencer .boid-bg{
  opacity: 0;
  transition: opacity 1400ms cubic-bezier(0.22, 0.8, 0.24, 1);
}
body.boid-sequencer .boid-hero{
  opacity: 0;
  transform: translateX(-40px);
  transition: opacity 1200ms cubic-bezier(0.22, 0.8, 0.24, 1), transform 1200ms cubic-bezier(0.22, 0.8, 0.24, 1);
}
body.boid-sequencer #intro,
body.boid-sequencer #bubbleWipe,
body.boid-sequencer #boids,
body.boid-sequencer #main{
  display: none !important;
}

.boid-bg{
  position: fixed;
  inset: 0;
  background: url("images/boidgame/boid.png") center/cover no-repeat;
  z-index: -2;
  transform: translateZ(0);
}
.boid-bg-overlay{
  position: fixed;
  inset: 0;
  background: linear-gradient(120deg, rgba(255, 255, 255, 0.92) 0%, rgba(255, 255, 255, 0.72) 48%, rgba(255, 255, 255, 0.5) 100%);
  z-index: -1;
}

.boid-back{
  position: fixed;
  top: 28px;
  left: 28px;
  width: 44px;
  height: 44px;
  border-radius: 50%;
  border: 2px solid var(--boid-ink);
  display: grid;
  place-items: center;
  text-decoration: none;
  background: var(--boid-overlay);
  backdrop-filter: blur(6px);
  z-index: 10;
}
.boid-back__arrow{
  width: 14px;
  height: 14px;
  border-left: 2px solid var(--boid-ink);
  border-bottom: 2px solid var(--boid-ink);
  transform: rotate(45deg) translateX(1px);
  display: block;
}

.boid-content{
  position: relative;
  min-height: 100vh;
  padding: 240px 8vw 0;
}
.boid-hero{
  display: grid;
  grid-template-columns: minmax(220px, 420px) 1fr;
  gap: 6vw;
  align-items: center;
  min-height: 70vh;
}
.boid-hero__left{
  display: flex;
  flex-direction: column;
  gap: 18px;
}
.boid-hero__label{
  font-size: 13px;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  margin: 0;
  color: #3a3a3a;
}
.boid-hero__title{
  font-family: "Fraunces", "Times New Roman", serif;
  font-size: clamp(42px, 7vw, 96px);
  line-height: 0.95;
  margin: 0;
  letter-spacing: -0.02em;
}
.boid-hero__link{
  font-size: 18px;
  text-decoration: none;
  color: var(--boid-ink);
  display: inline-flex;
  align-items: center;
  gap: 10px;
  border-bottom: 2px solid transparent;
  width: fit-content;
  padding-bottom: 6px;
  position: relative;
}
.boid-hero__link::after{
  content: \"â†—\";
  font-size: 18px;
}
.boid-hero__link::before{
  content: "";
  position: absolute;
  left: 0;
  bottom: 0;
  width: 0;
  height: 2px;
  background: currentColor;
  transition: width 220ms ease;
}
.boid-hero__link:hover::before{
  width: 100%;
}

.boid-spacer{
  height: 300px;
}

.boid-details{
  background: var(--boid-ink);
  color: var(--boid-light);
  padding: 0 6vw;
  margin: 0 -8vw;
  min-height: 135vh;
  display: flex;
  align-items: center;
  margin-top: -100px;
}
.boid-details__content{
  position: relative;
  width: 100%;
  height: 100vh;
  --anchor1-x: 48%;
  --anchor1-y: 16%;
  --img1-w: clamp(200px, 20vw, 250px);
  --img2-w: clamp(230px, 24vw, 300px);
  --img3-w: clamp(360px, 42vw, 520px);
  --img4-w: clamp(200px, 20vw, 250px);
  --img1-h: calc(var(--img1-w) * 1082 / 1078);
  --img2-h: calc(var(--img2-w) * 1184 / 1220);
  --img3-h: calc(var(--img3-w) * 262 / 1914);
  --img4-h: calc(var(--img4-w) * 794 / 988);
  transform: translate(calc(-4vw + 30px), 3vh);
}
.boid-details__text{
  font-size: clamp(16px, 1.8vw, 20px);
  line-height: 1.7;
  margin: 0;
  color: var(--boid-muted);
  font-family: "Inter", "Space Grotesk", system-ui, sans-serif;
  max-width: 380px;
  position: absolute;
  opacity: 0;
  transform: translateX(0);
  transition: transform 700ms cubic-bezier(0.22, 0.8, 0.24, 1), opacity 700ms cubic-bezier(0.22, 0.8, 0.24, 1);
}
.boid-details__text--left{
  top: calc(2% - 80px);
  left: 80px;
  transform: translateX(-40px);
}
.boid-details__text--right{
  top: calc(34% - 80px - 30px);
  right: 30px;
  text-align: right;
  transform: translateX(40px);
}
.boid-details__text--bottom{
  bottom: calc(10% + 30px);
  left: 80px;
  max-width: 810px;
  transform: translateX(-40px);
}
.boid-details__content.in-view .boid-details__text{
  opacity: 1;
  transform: translateX(0);
}

.boid-details__images{
  position: absolute;
  inset: 0;
  pointer-events: none;
}
.boid-lines{
  position: absolute;
  inset: 0;
  pointer-events: none;
}
.boid-line{
  position: absolute;
  background: rgba(255, 255, 255, 0.75);
  opacity: 0;
  transform: scaleX(0);
  transform-origin: left center;
  transition: transform 700ms cubic-bezier(0.22, 0.8, 0.24, 1), opacity 700ms cubic-bezier(0.22, 0.8, 0.24, 1);
}
.boid-line--top{
  height: 2px;
  left: -40px;
  top: calc(var(--anchor1-y) - var(--img1-h));
  width: calc(var(--anchor1-x) + var(--img1-w) + 200px);
}
.boid-line--mid{
  height: 2px;
  left: 300px;
  top: var(--anchor1-y);
  width: calc(var(--anchor1-x) + var(--img3-w) + 420px);
}
.boid-line--lower{
  display: none;
}
.boid-line--bottom{
  display: none;
}
.boid-line--v1{
  width: 2px;
  left: calc(var(--anchor1-x) + var(--img1-w));
  top: calc(var(--anchor1-y) - var(--img1-h));
  height: calc(var(--img1-h) + 220px);
  transform: scaleY(0);
  transform-origin: top center;
}
.boid-line--v2{
  width: 2px;
  left: 2%;
  top: calc(var(--anchor1-y) + var(--img2-h) - 40px);
  height: 440px;
  transform: scaleY(0);
  transform-origin: top center;
}
.boid-line--v2::after{
  content: "";
  position: absolute;
  left: calc(-2% - 60px);
  top: calc(100% - 40px);
  width: calc(400px + 2%);
  height: 2px;
  background: rgba(255, 255, 255, 0.75);
  transform: scaleX(0);
  transform-origin: left center;
  transition: transform 700ms cubic-bezier(0.22, 0.8, 0.24, 1);
}
.boid-details__content.in-view .boid-line{
  opacity: 1;
  transform: scaleX(1);
}
.boid-details__content.in-view .boid-line--v1,
.boid-details__content.in-view .boid-line--v2{
  transform: scaleY(1);
}
.boid-details__content.in-view .boid-line--v2::after{
  transform: scaleX(1);
}
.boid-image{
  position: absolute;
  margin: 0;
  opacity: 0;
  --img-offset: 12px;
  transition: opacity 700ms cubic-bezier(0.22, 0.8, 0.24, 1), transform 700ms cubic-bezier(0.22, 0.8, 0.24, 1);
  overflow: hidden;
  pointer-events: auto;
}
.boid-image img{
  display: block;
  width: 100%;
  height: 100%;
  object-fit: cover;
  border: 2px solid #fff;
  background: #0b0b0b;
  transition: filter 600ms ease;
}
.boid-image::after{
  content: "";
  position: absolute;
  inset: 0;
  background: rgba(255, 255, 255, 0.9);
  opacity: 0;
  transition: opacity 600ms ease;
  z-index: 1;
}
.boid-image__caption{
  position: absolute;
  inset: 12%;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  font-size: 14px;
  line-height: 1.5;
  color: #000;
  opacity: 0;
  transition: opacity 600ms ease;
  z-index: 2;
}
.boid-image:hover::after,
.boid-image:focus-within::after{
  opacity: 1;
}
.boid-image:hover img,
.boid-image:focus-within img{
  filter: grayscale(1) brightness(1.35) contrast(0.9);
}
.boid-image:hover .boid-image__caption,
.boid-image:focus-within .boid-image__caption{
  opacity: 1;
}
.boid-details__content.in-view .boid-image{
  opacity: 1;
  --img-offset: 0px;
}

.boid-image__line{
  position: absolute;
  height: 2px;
  background: rgba(255, 255, 255, 0.75);
  top: var(--line-y, 50%);
  transform: translateY(-50%) translateX(var(--line-x, 0px)) scaleX(0);
  transform-origin: center;
  transition: transform 700ms cubic-bezier(0.22, 0.8, 0.24, 1);
  width: var(--line-length, 220px);
}
.boid-image__line--right{
  left: 100%;
  transform-origin: left center;
}
.boid-image__line--left{
  right: 100%;
  transform-origin: right center;
}
.boid-details__content.in-view .boid-image__line{
  transform: translateY(-50%) translateX(var(--line-x, 0px)) scaleX(1);
}

.boid-image__line--img1{
  --line-length: 340px;
  --line-y: 0%;
}
.boid-image__line--img2{
  --line-length: 220px;
  --line-y: 0%;
  --line-x: 100px;
}
.boid-image__line--img3{
  --line-length: 580px;
  --line-y: 0%;
}
.boid-image__line--img4{
  --line-length: 200px;
  --line-y: 0%;
}

.boid-image--1{
  width: var(--img1-w);
  height: var(--img1-h);
  left: var(--anchor1-x);
  top: var(--anchor1-y);
  transform: translate(0, -100%) translateY(var(--img-offset));
}
.boid-image--2{
  width: var(--img2-w);
  height: var(--img2-h);
  left: var(--anchor1-x);
  top: var(--anchor1-y);
  transform: translate(-100%, 0) translateY(var(--img-offset));
}
.boid-image--3{
  width: var(--img3-w);
  height: var(--img3-h);
  left: var(--anchor1-x);
  top: calc(var(--anchor1-y) + var(--img2-h));
  transform: translate(0, 0) translateY(var(--img-offset));
}
.boid-image__base{
  position: absolute;
  right: 100%;
  bottom: 0;
  height: 2px;
  width: 250px;
  background: rgba(255, 255, 255, 0.75);
  transform: scaleX(0);
  transform-origin: right center;
  transition: transform 700ms cubic-bezier(0.22, 0.8, 0.24, 1);
}
.boid-image__base--img3{
  width: 250px;
}
.boid-details__content.in-view .boid-image__base{
  transform: scaleX(1);
}

.boid-image__stem--img4{
  position: absolute;
  left: 100%;
  bottom: 0;
  width: 2px;
  height: 400px;
  background: rgba(255, 255, 255, 0.75);
  transform: scaleY(0);
  transform-origin: bottom center;
  transition: transform 700ms cubic-bezier(0.22, 0.8, 0.24, 1);
}
.boid-details__content.in-view .boid-image__stem--img4{
  transform: scaleY(1);
}
.boid-image--4{
  width: var(--img4-w);
  height: var(--img4-h);
  left: calc(var(--anchor1-x) + var(--img3-w));
  top: calc(var(--anchor1-y) + var(--img2-h) + var(--img3-h));
  transform: translate(0, 0) translateY(var(--img-offset));
}

@media (max-width: 768px) {
  .boid-content{
    padding: 120px 7vw 0;
  }
  .boid-hero{
    grid-template-columns: 1fr;
    min-height: 60vh;
  }
  .boid-details{
    padding: 96px 7vw;
    margin: 0 -7vw;
  }
  .boid-details__content{
    min-height: auto;
  }
  .boid-details__text{
    position: static;
    max-width: none;
    opacity: 1;
    transform: none;
  }
  .boid-details__text + .boid-details__text{
    margin-top: 28px;
  }
  .boid-details__images{
    position: static;
    margin-top: 40px;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
  }
  .boid-image{
    position: static;
    opacity: 1;
    transform: none;
  }
  .boid-image__line{
    display: none;
  }
  .boid-image__base{
    display: none;
  }
}
.panel-col{
  display: flex;
  justify-content: center;
}
.panel-text{
  max-width: 360px;
  text-align: left;
}
.panel-image-wrap{
  display: flex;
  justify-content: center;
  align-items: center;
}
.panel-title{
  font-size: 42px;
  font-weight: 700;
  margin: 0 0 24px;
}
.panel-section{
  margin-bottom: 28px;
}
.panel-section h3{
  margin: 0 0 8px;
  font-size: 24px;
}
.panel-list{
  margin: 0;
  padding-left: 22px;
}
.panel-list li{
  margin: 10px 0;
}
.panel-image{
  width: 100%;
  aspect-ratio: 3 / 4;
  background: #d9d9d9;
  border: 2px solid #000;
  transition: border-color 0.3s cubic-bezier(0.2, 0.8, 0.2, 1), background-color 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
}

.stage.is-open .panel-x{
  display: block;
}
.stage.is-open .panel-x::before,
.stage.is-open .panel-x::after{
  content:"";
  position:absolute;
  left: 0; top: 0;
  width: 100%;
  height: 100%;
  border-top: 4px solid transparent;
}
.stage.is-open .panel-x::before{
  transform: rotate(0deg);
  background:
    linear-gradient( to bottom right, transparent 49.4%, #000 49.4%, #000 50.6%, transparent 50.6% );
  transition: background-color 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
}
.stage.is-open .panel-x::after{
  background:
    linear-gradient( to top right, transparent 49.4%, #000 49.4%, #000 50.6%, transparent 50.6% );
  transition: background-color 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
}

@media (max-width: 860px){
  .stage{
    grid-template-columns: 1fr;
  }
  .shelf{ justify-content: flex-start; }
  .panel{
    min-height: 420px;
    --panel-offset: 0px;
  }
}

/* ========== DRAWING PAGE ========== */
.drawing-page{
  height: 100%;
  overflow: hidden;
}
.drawing-page::before{
  content: "";
  position: fixed;
  inset: 0;
  background: #fff;
  z-index: 0;
}
.drawing-stage{
  position: relative;
  min-height: 100vh;
  display: grid;
  grid-template-rows: auto auto;
  align-content: start;
  justify-items: center;
  row-gap: 28px;
  padding: 32px 6vw 64px;
  z-index: 2;
}
.drawing-header h1{
  margin: 0;
  font-size: clamp(28px, 4vw, 54px);
  letter-spacing: 0.12em;
  text-transform: uppercase;
}
.drawing-slides{
  position: relative;
  width: min(70vw, 640px);
  max-height: 70vh;
  display: grid;
  place-items: center;
}
.drawing-slide{
  position: absolute;
  inset: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 18px;
  opacity: 0;
  transform: translateY(0);
  transition:
    opacity 1100ms cubic-bezier(0.22, 1, 0.36, 1),
    transform 1100ms cubic-bezier(0.22, 1, 0.36, 1);
  pointer-events: none;
}
.drawing-slide img{
  display: block;
  width: auto;
  height: 600px;

  max-height: 70vh;
 
  object-fit: contain;
  box-shadow: 0 24px 60px rgba(0, 0, 0, 0.18);
  -webkit-mask-image:
    linear-gradient(to right, transparent, #000 2%, #000 98%, transparent),
    linear-gradient(to bottom, transparent, #000 2%, #000 98%, transparent);
  -webkit-mask-composite: source-in;
  mask-image:
    linear-gradient(to right, transparent, #000 2%, #000 98%, transparent),
    linear-gradient(to bottom, transparent, #000 2%, #000 98%, transparent);
  mask-composite: intersect;
}
.drawing-caption{
  font-size: 16px;
  letter-spacing: 0.04em;
  text-transform: lowercase;
  filter: blur(1.5px);
  opacity: 0.4;
  transition:
    opacity 600ms ease,
    filter 600ms ease;
}
.drawing-slide.is-active{
  opacity: 1;
  transform: translateY(0);
  pointer-events: auto;
}
.drawing-slide.is-active .drawing-caption{
  filter: blur(0);
  opacity: 1;
}
.drawing-slide.is-exiting{
  opacity: 0;
  transform: translateY(-40px);
}
.drawing-slide.is-entering-from-bottom{
  transform: translateY(60px);
}
.drawing-panel{
  position: fixed;
  bottom: 32px;
  left: 50%;
  transform: translateX(-50%);
  padding: 16px 24px;
  background: rgba(255, 255, 255, 0.8);
  border: 1px solid rgba(0, 0, 0, 0.12);
  backdrop-filter: blur(12px);
  text-align: center;
  min-width: min(70vw, 520px);
  z-index: 2;
}

.drawing-panel__text{
  position: absolute;
  left: 0;
  right: 0;
  opacity: 0;
  transition: opacity 1100ms cubic-bezier(0.22, 1, 0.36, 1);
}
.drawing-panel__text.is-active{
  opacity: 1;
  position: relative;
}

@media (max-width: 768px){
  .drawing-stage{
    padding: 32px 8vw 96px;
  }
  .drawing-slides{
    width: min(80vw, 460px);
  }
  .drawing-panel{
    min-width: min(84vw, 460px);
    bottom: 20px;
  }
  .drawing-caption{
    font-size: 14px;
  }
}
